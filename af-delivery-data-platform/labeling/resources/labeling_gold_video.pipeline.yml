# The main pipeline for af_delivery_data_platform
resources:
  pipelines:
    labeling_video_gold_pipeline:
      name: labeling_video_gold_pipeline
      catalog: ${var.catalog}
      schema: gold_labeling
      serverless: true
      tags:
        env: ${bundle.target}
        vertical: labeling

      libraries:
        - glob:
            include: ../src/data_transformation/gold_video_aggregation.py
      root_path: ${workspace.file_path}/labeling/src/data_transformation

      permissions:
        - group_name: DE-delivery
          level: CAN_VIEW
        - user_name: datn@activefence.com
          level: IS_OWNER
      environment: 
        dependencies:
          - deepmerge
          - langchain-core
          - ../dist/minimal_helpers-0.0.1-py3-none-any.whl

      continuous: false # Set to true for continuous processing
      configuration:
        catalog: ${var.catalog}
        environment: ${bundle.target}
        vertical: labeling
        data_domain: ggdrive
        data_source: ggdrive
        file_name_prefix: ''