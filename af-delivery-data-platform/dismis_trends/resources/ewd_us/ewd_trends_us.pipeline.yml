# Delta Live Tables pipeline configuration for EWD Trends US
#
# This pipeline implements a 3-layer data architecture:
# - Bronze (Landing): Raw data ingestion from Monday.com JSON exports
# - Silver (Cleansed): Data quality enforcement and schema standardization
# - Gold (Curated): Business-ready aggregated views and latest snapshots

resources:
  pipelines:
    ewd_trends_us_pipeline:
      name: "EWD Trends US DLT Pipeline"
      catalog: ${var.catalog}
      schema: landing_dismis # Fallback schema only
      serverless: true
      budget_policy_id: ${var.budget_policy_id}
      tags:
        env: ${bundle.target}
        vertical: dismis
        region: us
      libraries:
        - glob:
            include: ../../src/data_transformation/dlt_ewd_trends_us/**

      root_path: ${workspace.file_path}/dismis_trends/src/data_transformation/dlt_ewd_trends_us

      continuous: false # Set to true for continuous processing
      configuration:
        catalog: ${var.catalog}
        environment: ${bundle.target}
        vertical: dismis
        data_domain: trends
        data_source: monday
        file_name_prefix: ewd_trends_us
