# Delta Live Tables pipeline configuration for GenAI Consolidated
#
# This pipeline implements a consolidated data architecture:
# - Consolidates all GenAI modules (Bard, Cohere Translation 1&2, Cohere Unique 1&2)
# - Creates unified views and latest snapshots across all GenAI data sources

resources:
  pipelines:
    genai_consolidated_pipeline:
      name: "GenAI Consolidated DLT Pipeline"
      catalog: ${var.catalog}
      schema: consolidated_genai # Fallback schema only
      serverless: true
      budget_policy_id: ${var.budget_policy_id}
      tags:
        env: ${bundle.target}
        vertical: genai
      libraries:
        - glob:
            include: ../../src/data_transformation/dlt_genai_consolidated/**

      root_path: ${workspace.file_path}/genai/src/data_transformation/dlt_genai_consolidated

      configuration:
        catalog: ${var.catalog}
        environment: ${bundle.target}
        vertical: genai
